//Ð¤ÑƒÐ½ÐºÑ†Ð¸Ñ Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°ÐµÑ‚ ÑÑ‚Ñ€Ð¾ÐºÑƒ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð¾Ð² Ð·Ð°Ð±ÐµÐ³Ð° Ð² Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ðµ
// '02|15|59, 2|47|16, 02|17|20, 2|32|34, 2|17|17, 2|22|00, 2|31|41' (Ñ‡|Ð¼|Ñ).
// Ð’ÐµÑ€Ð½ÑƒÑ‚ÑŒ ÑÑ‚Ñ€Ð¾ÐºÑƒ Ð² Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ðµ  'Range: 00|31|17 Average: 02|26|18 Median: 02|22|00'
// Range ÑÑ‡Ð¸Ñ‚Ð°ÐµÑ‚ÑÑ ÐºÐ°Ðº Ð²Ñ€ÐµÐ¼Ñ ÑÐ°Ð¼Ð¾Ð³Ð¾ Ð±Ð¾Ð»ÑŒÑˆÐ¾Ð³Ð¾ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ Ð¼Ð¸Ð½ÑƒÑ ÑÐ°Ð¼Ð¾Ðµ Ð¼Ð°Ð»ÐµÐ½ÑŒÐºÐ¾Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ
// Average ÑÑ‡Ð¸Ñ‚Ð°ÐµÑ‚ÑÑ ÐºÐ°Ðº ÑÑƒÐ¼Ð¼Ð° Ð²ÑÐµÑ… Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð¾Ð² Ñ€Ð°Ð·Ð´ÐµÐ»ÐµÐ½Ð½Ð°Ñ Ð½Ð° ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð¾Ð²
// Median ÑÑ‡Ð¸Ñ‚Ð°ÐµÑ‚ÑÑ ÐºÐ°Ðº ÐµÑÐ»Ð¸ Ð±Ñ‹ Ð½Ð°ÑˆÐ¸ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹ Ð±Ñ‹Ð»Ð¸ Ð¾Ñ‚ÑÐ¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ñ‹ Ð¿Ð¾ Ð²Ð¾Ð·Ñ€Ð°ÑÑ‚Ð°Ð½Ð¸ÑŽ.
// Ð•ÑÐ»Ð¸ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð¾Ð² Ñ‡ÐµÑ‚Ð½Ð¾Ðµ, Ñ‚Ð¾ Ð±ÐµÑ€ÐµÐ¼ ÑÑƒÐ¼Ð¼Ñƒ Ð´Ð²ÑƒÑ… ÑÐµÑ€ÐµÐ´Ð¸Ð½Ð½Ñ‹Ñ… Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð¾Ð² Ð¸ Ð´ÐµÐ»Ð¸Ð¼ Ð½Ð° 2,
// ÐµÑÐ»Ð¸ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð¾Ð² Ð½Ðµ Ñ‡ÐµÑ‚Ð½Ð¾, Ñ‚Ð¾ Ð±ÐµÑ€ÐµÐ¼ ÑÑ€ÐµÐ´Ð½Ð¸Ð¹ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚.
// ÐÐ°Ð¿Ñ€Ð¸Ð¼ÐµÑ€: [1,3,4,5,6] Ð² Ð´Ð°Ð½Ð½Ð¾Ð¼ ÑÐ»ÑƒÑ‡Ð°Ðµ median Ñ€Ð°Ð²ÐµÐ½ 4. Ð•ÑÐ»Ð¸ [1,3,3,5,6,7] Ð² Ð´Ð°Ð½Ð½Ð¾Ð¼ ÑÐ»ÑƒÑ‡Ð°Ðµ (3 + 5) / 2 = 4, median Ñ€Ð°Ð²ÐµÐ½ 4.
// Ð•ÑÐ»Ð¸ Ð¿Ñ€Ð¸ÑˆÐ»Ð° Ð¿ÑƒÑÑ‚Ð°Ñ ÑÑ‚Ñ€Ð¾ÐºÐ°, Ñ‚Ð¾ Ð²ÐµÑ€Ð½ÑƒÑ‚ÑŒ Ð¿ÑƒÑÑ‚ÑƒÑŽ ÑÑ‚Ñ€Ð¾ÐºÑƒ. Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ Ð¾ÐºÑ€ÑƒÐ³Ð»ÐµÐ½Ð¸Ðµ Ð² Ð±Ð¾Ð»ÑŒÑˆÑƒÑŽ ÑÑ‚Ð¾Ñ€Ð¾Ð½Ñƒ.

// getStatistic('12|17|20, 10|16|16, 1|22|00, 2|32|34, 10|26|37, 13|19|34, 2|32|34, 12|17|20, 02|17|20') ðŸ¡ª Range: 11|57|34 Average: 07|29|03 Median: 10|16|16
// getStatistic('1|32|34, 2|22|00, 2|17|17, 1|17|48, 02|17|20, 1|47|16, 00|22|34, 00|22|34, 1|47|16, 9|22|34, 2|17|17, 2|22|00, 00|17|20, 00|22|34, 10|26|37, 1|47|16, 11|22|00') ðŸ¡ª Range: 11|04|40 Average: 03|04|57 Median: 01|47|16
// getStatistic('9|22|34, 2|17|17, 12|17|48, 1|15|59, 10|16|16') ðŸ¡ª Range: 11|01|49 Average: 07|05|58 Median: 09|22|34
// getStatistic('00|19|34, 02|17|20, 2|47|16') ðŸ¡ª Range: 02|27|42 Average: 01|48|03 Median: 02|17|20

function getStatistic(str) {
    if (!str || str.trim() === '') {
        return '';
    }
    const times = str.split(', ').sort(sortFunction);

    const range = 'Range:' + convertToTime(convertToSeconds(times[times.length - 1]) - convertToSeconds(times[0]));
    const average = 'Average:' + convertToTime(
        (times.map(convertToSeconds).reduce((accum, curr) => accum + curr, 0) / times.length) ^ 0
    );
    const median = 'Median:' + (times.length % 2 === 1
        ? times[(times.length / 2 ^ 0)]
        : convertToTime(convertToSeconds(times[times.length / 2]) - convertToSeconds(times[times.length / 2 - 1])));

    return range + ' ' + average + ' ' + median;
}

const convertToSeconds = (str) => {
    return str.split('|')
        .map((value, index) => value * Math.pow(60, 3 - index - 1))
        .reduce((accum, curr) => accum + curr, 0);
}

const convertToTime = function (timeInSec) {
    const h = timeInSec / 3600 ^ 0;
    const m = timeInSec % 3600 / 60 ^ 0;
    const s = timeInSec - h * 3600 - m * 60;
    return h.toString().padStart(2, '0') + '|' + m.toString().padStart(2, '0') + '|' + s.toString().padStart(2, '0');
}

const sortFunction = (a, b) => {
    const aInSec = convertToSeconds(a);
    const bInSec = convertToSeconds(b);
    return aInSec - bInSec;
}

console.log(getStatistic());// ðŸ¡ª Range: 11|57|34 Average: 07|29|03 Median: 10|16|16
console.log(getStatistic('02|17|20, 2|47|16'));// ðŸ¡ª Range: 02|27|42 Average: 01|48|03 Median: 02|17|20
console.log(getStatistic('12|17|20, 10|16|16, 1|22|00, 2|32|34, 10|26|37, 13|19|34, 2|32|34, 12|17|20, 02|17|20'));// ðŸ¡ª Range: 11|57|34 Average: 07|29|03 Median: 10|16|16
console.log(getStatistic('1|32|34, 2|22|00, 2|17|17, 1|17|48, 02|17|20, 1|47|16, 00|22|34, 00|22|34, 1|47|16, 9|22|34, 2|17|17, 2|22|00, 00|17|20, 00|22|34, 10|26|37, 1|47|16, 11|22|00'));//ðŸ¡ª Range: 11|04|40 Average: 03|04|57 Median: 01|47|16
console.log(getStatistic('9|22|34, 2|17|17, 12|17|48, 1|15|59, 10|16|16'));//ðŸ¡ª Range: 11|01|49 Average: 07|05|58 Median: 09|22|34
console.log(getStatistic('00|19|34, 02|17|20, 2|47|16'));//ðŸ¡ª Range: 02|27|42 Average: 01|48|03 Median: 02|17|20
